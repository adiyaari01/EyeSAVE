var Re=Object.defineProperty,Ae=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var xe=(t,r,a)=>r in t?Re(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,X=(t,r)=>{for(var a in r||(r={}))$e.call(r,a)&&xe(t,a,r[a]);if(fe)for(var a of fe(r))Be.call(r,a)&&xe(t,a,r[a]);return t},ie=(t,r)=>Ae(t,We(r));import{c as G,R as U,j as e,u as ee,a as ce,b as n,L as De,d as ze,e as ke,f as _e,g as Ne,h as Oe,i as Ee,k as we,l as je,m as Me,N as Ue,B as P,n as Le,r as x,S as k,A as Ve,T as se,I as D,o as Ye,p as He,q as z,D as Ge,O as Ze,F,G as u,C as I,s as j,t as M,v as Je,w as V,P as Z,x as Te,y as Ke,z as v,E as te,H as he,J as S,K as ve,M as Qe,Q as W,U as B,V as Xe,W as et,X as tt,Y as de,Z as A,_ as rt,$ as at,a0 as nt,a1 as it,a2 as lt,a3 as ot,a4 as ue,a5 as me,a6 as pe,a7 as st,a8 as dt,a9 as ct,aa as ht,ab as ut,ac as L,ad as mt,ae as pt,af as gt,ag as ft}from"./vendor.b98a6a0d.js";const xt=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=a(o);fetch(o.href,i)}};xt();const J="https://eyesaveserver.herokuapp.com",vt=async()=>{const{body:t}=await G.exports.get(`${J}/childrenAttendance`);return t},bt=async()=>{const{body:t}=await G.exports.get(`${J}/staffAttendance`);return t},yt=async()=>{const{body:t}=await G.exports.get(`${J}/children`);return t},St=async()=>{const{body:t}=await G.exports.get(`${J}/staff`);return t},Ct=async()=>{const{body:t}=await G.exports.get(`${J}/events`);return t},kt=({setSelf:t,onSet:r})=>{t(vt())},_t=({setSelf:t,onSet:r})=>{t(bt())},Nt=({setSelf:t,onSet:r})=>{t(yt())},Et=({setSelf:t,onSet:r})=>{t(St())},wt=({setSelf:t,onSet:r})=>{t(Ct())},re=U({key:"IsLoggedInState",default:!0}),Lt=U({key:"childrenAttendanceState",default:null,effects_UNSTABLE:[kt]}),Tt=U({key:"staffAttendanceState",default:null,effects_UNSTABLE:[_t]}),ge=U({key:"childrenInfoState",default:null,effects_UNSTABLE:[Nt]}),qt=U({key:"staffInfoState",default:null,effects_UNSTABLE:[Et]}),It=U({key:"evetnsState",default:null,effects_UNSTABLE:[wt]});var Pt="/assets/logo.0f66d6c0.png",Ft=()=>e("div",{children:e("img",{src:Pt,width:"250",height:"80"})});const q=({Icon:t,to:r,label:a,handleClick:l})=>e("div",{className:"nav-item",children:r?n(Ue,{to:r,style:{color:"#E3E3E3"},children:[e(t,{fontSize:"large"}),a]}):n(P,{component:"a",onClick:l,style:{color:"#E3E3E3"},children:[e(t,{fontSize:"large"}),a]})});var Rt=()=>{const t=ee(),r=ce(re);return n(De,{sx:{width:"100%",maxWidth:360},children:[e(q,{to:"/",label:"Home",Icon:ze}),e(q,{to:"watchLive",label:"Live",Icon:ke}),e(q,{to:"recordings",label:"Recordings",Icon:_e}),e(q,{to:"messages",label:"Messages",Icon:Ne}),e(q,{to:"attendance",label:"Attendance",Icon:Oe}),e(q,{to:"children",label:"ChildrenInfo",Icon:Ee}),e(q,{to:"staff",label:"StaffInfo",Icon:we}),e(q,{to:"events",label:"Events",Icon:je}),e(q,{handleClick:()=>{r(!1),t("/login")},label:"Logout",Icon:Me})]})};const At=Le({paper:{backgroundColor:"#3F424C !important"}}),le=280;var Wt=x.exports.memo(()=>{const[t,r]=x.exports.useState(!1),a=()=>r(i=>!i),l={background:"#575E68"},o=At();return n(k,{direction:"row",children:[e(Ve,{position:"fixed",style:{boxShadow:"none"},children:n(se,{style:l,children:[e(D,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:a,children:e(Ye,{})}),e("div",{style:{display:"flex",flexGrow:1}}),e(He,{})]})}),e(z,{component:"nav",sx:{width:{md:le},flexShrink:{md:0}},"aria-label":"mailbox folders",children:n(Ge,{anchor:"left",variant:"permanent",classes:o,onClose:()=>a(),sx:{display:{xs:"none",sm:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:le}},children:[e(Ft,{}),e(Rt,{})]})}),n(z,{component:"main",sx:{flexGrow:1,p:3,width:{md:`calc(100% - ${le}px)`}},children:[e(se,{}),e(Ze,{})]})]})});const $t=Le({root:{backgroundColor:"#3F424C !important",color:"#E3E3E3 !important",borderRadius:"16px !important",cursor:"pointer"}});var Bt=x.exports.memo(()=>{const t=$t(),r=ee();return n(F,{children:[n(u,{container:!0,spacing:2,justifyContent:"center",mb:2,children:[e(u,{item:!0,xs:10,sm:4,md:4,children:n(I,{align:"center",classes:t,children:[e(j,{title:"Watch LIVE"}),e(M,{children:e(ke,{sx:{fontSize:"100px"}})})]})}),e(u,{item:!0,xs:10,sm:4,md:4,children:n(I,{align:"center",classes:t,children:[e(j,{title:"See recordings"}),e(M,{children:e(_e,{sx:{fontSize:"100px"}})})]})})]}),n(u,{container:!0,spacing:2,justifyContent:"center",mt:2,children:[e(u,{item:!0,xs:10,sm:2.5,md:2.5,children:n(I,{align:"center",classes:t,children:[e(j,{title:"Forms"}),e(M,{children:e(Je,{sx:{fontSize:"100px"}})})]})}),e(u,{item:!0,xs:10,sm:2.5,md:2.5,children:n(I,{align:"center",classes:t,children:[e(j,{title:"Messages"}),e(M,{children:e(Ne,{sx:{fontSize:"100px"}})})]})}),e(u,{item:!0,xs:10,sm:2.5,md:2.5,children:n(I,{align:"center",classes:t,onClick:()=>r("/staff"),children:[e(j,{title:"Staff info"}),e(M,{children:e(we,{sx:{fontSize:"100px"}})})]})}),e(u,{item:!0,xs:10,sm:2.5,md:2.5,children:n(I,{align:"center",classes:t,children:[e(j,{title:"Children info"}),e(M,{children:e(Ee,{sx:{fontSize:"100px"}})})]})})]})]})}),Dt=()=>e(V,{children:"Kindergarten"});const zt=()=>{const t=ee(),r=ce(re),a={padding:20,width:280,height:"70vh",margin:"50px auto"},l={backgroundColor:"#BC88C9"},o={margin:"8px 0"},i={margin:"8px 0"};return e("div",{children:e(u,{align:"center",children:n(Z,{elevation:10,style:a,children:[e(Te,{style:l,children:e(Ke,{})}),e("h2",{children:"Sign In"}),e(v,{style:i,label:"Email",placeholder:"Enter an email address",fullWidth:!0,required:!0}),e(v,{style:i,label:"Password",placeholder:"Enter a password",type:"password",fullWidth:!0,required:!0}),e(te,{control:e(he,{defaultChecked:!0,color:"default"}),label:"remember me"}),e(P,{variant:"contained",style:o,color:"secondary",fullWidth:!0,onClick:()=>{r(!0),t("/")},children:"SIGN IN"}),e(S,{children:e(ve,{href:"#",children:"Forgot password?"})}),n(S,{children:["Do you have an account?",e(ve,{href:"#",children:"Sign up"})]})]})})})},Ot=()=>{const t=ee(),r=ce(re);return e("div",{children:e(u,{align:"center",children:n(Z,{elevation:10,style:{padding:20,width:300,height:"80vh",margin:"50px auto"},children:[n(u,{children:[e(Te,{style:{backgroundColor:"#BC88C9"},children:e(Qe,{})}),e("h2",{children:"Sign Up"}),e(S,{variant:"caption",gutterBottom:!0,children:"Please fill this form to create an account"})]}),n("form",{children:[e(v,{fullWidth:!0,id:"standard-basic",label:"Full Name",variant:"standard",placeholder:"Enter your name"}),e(v,{fullWidth:!0,id:"standard-basic",label:"Email",variant:"standard",placeholder:"Enter your email"}),e(v,{fullWidth:!0,id:"standard-basic",label:"Phone Number",variant:"standard",placeholder:"Enter your phone number"}),e(v,{fullWidth:!0,id:"standard-basic",label:"Password",variant:"standard",placeholder:"Enter a password"}),e(v,{fullWidth:!0,id:"standard-basic",label:"Confirm Password",variant:"standard",placeholder:"Enter again your password"}),e(te,{control:e(he,{defaultChecked:!0,color:"default"}),label:"I accept the terms and conditions."}),e(P,{type:"submit",variant:"contained",style:{margin:"8px 0"},color:"secondary",fullWidth:!0,onClick:()=>{r(!0),t("/home")},children:"SIGN UP"})]})]})})})};function jt(t){return e(k,{direction:"row",flexWrap:"wrap",gap:3,children:t.items.map(r=>{var d,p,f,s,h;const a=(d=r.report)==null?void 0:d._arrivalTime,l=(p=r.report)==null?void 0:p._departureTime,o=(f=r.report)==null?void 0:f._absance,i=(s=r.report)==null?void 0:s._childDelay;return console.log((h=r.report)==null?void 0:h._absance),n(I,{sx:{width:160,height:180,position:"relative",backgroundColor:"#3F424C !important",color:"#E3E3E3 !important",borderRadius:"5px !important",boxShadow:3},children:[!a&&!l&&!o&&!i&&e("div",{className:"dot",style:{width:15,height:15,borderRadius:"50%",background:"#FAC852",position:"absolute",top:"5px",left:"5px"}}),i&&i!=="false"&&e(S,{fontSize:"14px",sx:{color:"#5FEBDC",position:"absolute",top:"5px",left:"5px"},children:"Delay"}),n(k,{sx:{color:"#E3E3E3"},alignItems:"center",gap:1,p:2,children:[e("img",{src:r._imageUrl,width:50,height:50,style:{borderRadius:"50%"},alt:""}),n(S,{children:[r._firstName," ",r._lastName]}),n(k,{justifyContent:a?"flex-end":"flex-start",direction:"row",sx:{fontFamily:"sans-serif",width:132,height:22,borderRadius:5,backgroundColor:a?"#AAF8D0":"#999999"},children:[!a&&e(k,{sx:{width:72,height:22,borderRadius:5,backgroundColor:"#596068",fontSize:12,justifyContent:"center",alignItems:"center"},children:"Check in"}),!!a&&e(k,{sx:{width:65,height:22,borderRadius:5,backgroundColor:a?"#1E8D7F":"#596068",fontSize:14,justifyContent:"center",alignItems:"center"},children:a})]}),n(k,{justifyContent:l?"flex-end":"flex-start",direction:"row",sx:{fontFamily:"sans-serif",width:132,height:22,borderRadius:5,backgroundColor:l?"#FBBCD7":"#999999"},children:[!l&&e(k,{sx:{width:72,height:22,borderRadius:5,backgroundColor:"#596068",fontSize:12,justifyContent:"center",alignItems:"center"},children:"Check out"}),!!l&&e(k,{sx:{width:65,height:22,borderRadius:5,backgroundColor:a?"#E7307C":"#596068",fontSize:14,justifyContent:"center",alignItems:"center"},children:l})]})]})]},r._id)})})}const oe=()=>{let t=new Date,r=("0"+t.getDate()).slice(-2),a=("0"+(t.getMonth()+1)).slice(-2);return t.getFullYear()+"-"+a+"-"+r};var Mt=()=>{const t=W(Lt),r=W(ge);W(Tt);const a=t.filter(s=>s._date===oe());console.log("todayReports",a),console.log(t),console.log(r);const l=r.map(s=>{const h=a.find(m=>m._childId===s._id);return ie(X({},s),{report:h})}),o=l.filter(s=>{var h;return(h=s.report)==null?void 0:h._arrivalTime}),i=l.filter(s=>{var h,m;return((h=s.report)==null?void 0:h._childDelay)===!0&&!((m=s.report)==null?void 0:m._arrivalTime)}),d=r.filter(s=>t.find(h=>{const m=h._childId===s._id,b=h._date===oe(),y=h._absence&&!h._arrivalTime;return m&&b&&y})),p=r.filter(s=>!t.filter(m=>m._date===oe()).find(m=>m._childId==s._id));console.log("arrivedItems",o),console.log("lates",i),console.log("unknow",p),console.log("absance",d);const f=[...p,...d,...i,...o];return e(V,{children:e(k,{direction:"row",flexWrap:"wrap",gap:3,children:e(jt,{items:f})})})};function Ut(t){return e(k,{justifyContent:"left",direction:"row",flexWrap:"wrap",gap:3,children:t.items.map(r=>e(I,{sx:{width:270,height:200,backgroundColor:"#3F424C !important",borderRadius:"5px !important",color:"#E3E3E3",boxShadow:3},children:n(k,{alignItems:"center",gap:1,p:2,children:[e("img",{src:r._imageUrl,width:80,height:80,style:{borderRadius:"50%"},alt:""}),n(S,{children:[r._firstName," ",r._lastName]}),n(S,{children:["Address:",r._address]}),n(S,{children:["Birthday: ",r._birthdate]})]})},r._id))})}var Vt=()=>{const t=W(ge);return console.log(t),n(V,{children:[e(k,{direction:"row",flexWrap:"wrap",gap:3}),e(Ut,{items:t})]})};function Yt(t){return e(k,{justifyContent:"center",direction:"row",flexWrap:"wrap",gap:3,children:t.items.map(r=>e(I,{sx:{width:280,height:280,backgroundColor:"#3F424C !important",borderRadius:"5px !important",color:"#E3E3E3",boxShadow:3},children:n(k,{alignItems:"center",gap:1,p:2,children:[e("img",{src:r._imageUrl,width:80,height:80,style:{borderRadius:"50%"},alt:""}),n(S,{children:[r._firstName," ",r._lastName]}),n(S,{children:["Position: ",r._position]}),n(S,{children:["Phone: ",r._phone]}),n(S,{children:["Address: ",r._address]}),n(S,{children:["Birthday: ",r._birthdate]})]})},r._id))})}var Ht=()=>{const t=W(qt);return console.log("staff",t),n(V,{children:[e(k,{justifyContent:"center",direction:"row",flexWrap:"wrap",gap:3}),e(Yt,{items:t})]})};function Gt(t,r,a,l,o,i){return{date:t,event:r,startTime:a,finishTime:l,child1:o,child2:i}}const Zt=[{id:"event",numeric:!1,disablePadding:!0,label:"Event"},{id:"date",numeric:!1,disablePadding:!0,label:"Date"},{id:"startTime",numeric:!1,disablePadding:!1,label:"Start Time"},{id:"finishTime",numeric:!1,disablePadding:!1,label:"Finish Time"},{id:"child1",numeric:!1,disablePadding:!1,label:"Child 1"},{id:"child2",numeric:!1,disablePadding:!1,label:"Child 2"}];function qe(t){const{order:r,orderBy:a,onRequestSort:l}=t,o=i=>d=>{l(d,i)};return e(nt,{className:"tableStyle",children:e(de,{children:Zt.map(i=>e(A,{align:"center",padding:i.disablePadding?"none":"normal",sortDirection:a===i.id?r:!1,children:n(it,{active:a===i.id,direction:a===i.id?r:"asc",onClick:o(i.id),children:[i.label,a===i.id?e(z,{component:"span",sx:lt,children:r==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}qe.propTypes={numSelected:B.number.isRequired,onRequestSort:B.func.isRequired,onSelectAllClick:B.func.isRequired,order:B.oneOf(["asc","desc"]).isRequired,orderBy:B.string.isRequired,rowCount:B.number.isRequired};const Ie=t=>{const{numSelected:r}=t;return e(se,{sx:X({pl:{sm:2},pr:{xs:1,sm:1}},r>0&&{bgcolor:a=>ot(a.palette.primary.main,a.palette.action.activatedOpacity)}),children:r>0?n(S,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[r," selected"]}):e(S,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div"})})};Ie.propTypes={numSelected:B.number.isRequired};function Jt({events:t,children:r}){const[a,l]=x.exports.useState("asc"),[o,i]=x.exports.useState("event"),[d,p]=x.exports.useState([]),[f,s]=x.exports.useState(0),[h,m]=x.exports.useState(!1),[b,y]=x.exports.useState(5),[c,_]=x.exports.useState([]);x.exports.useEffect(()=>{console.log("Events",t);let g=!0;if(g){const w=t.map(C=>{const N=r.filter(ne=>ne._id===C._child1),ae=r.filter(ne=>ne._id===C._child2);if(N)var Pe=N[0]._firstName+" "+N[0]._lastName;if(ae)var Fe=ae[0]._firstName+" "+ae[0]._lastName;return Gt(C._date,C._eventType,C._startTime,C._endTime,Pe,Fe)});_(w)}return()=>{g=!1}},[t]);const R=(g,w)=>{l(o===w&&a==="asc"?"desc":"asc"),i(w)},$=g=>{if(g.target.checked){const w=c.map(C=>C.name);p(w);return}p([])},O=(g,w)=>{const C=d.indexOf(w);let N=[];C===-1?N=N.concat(d,w):C===0?N=N.concat(d.slice(1)):C===d.length-1?N=N.concat(d.slice(0,-1)):C>0&&(N=N.concat(d.slice(0,C),d.slice(C+1))),p(N)},Y=(g,w)=>{s(w)},E=g=>{y(parseInt(g.target.value,10)),s(0)},H=g=>{m(g.target.checked)},Q=g=>d.indexOf(g)!==-1,T=f>0?Math.max(0,(1+f)*b-c.length):0;return c.length?n(z,{sx:{width:"100%"},children:[n(Z,{sx:{width:"100%",mb:2},children:[e(Ie,{numSelected:d.length}),e(Xe,{children:n(et,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:h?"small":"medium",children:[e(qe,{numSelected:d.length,order:a,orderBy:o,onSelectAllClick:$,onRequestSort:R,rowCount:c.length}),n(tt,{children:[c.map((g,w)=>{const C=Q(g.event);return n(de,{hover:!0,onClick:N=>O(N,g.event),"aria-checked":C,tabIndex:-1,selected:C,children:[e(A,{align:"center",children:g.event}),e(A,{align:"center",children:g.date}),e(A,{align:"center",children:g.startTime}),e(A,{align:"center",children:g.finishTime}),e(A,{align:"center",children:g.child1}),e(A,{align:"center",children:g.child2})]},w)}),T>0&&e(de,{style:{height:(h?33:53)*T},children:e(A,{colSpan:6})})]})]})}),e(rt,{rowsPerPageOptions:[5,10,25],component:"div",count:c.length,rowsPerPage:b,page:f,onPageChange:Y,onRowsPerPageChange:E})]}),e(te,{control:e(at,{checked:h,onChange:H}),label:"Dense padding"})]}):e("div",{children:"Loading.."})}const Kt=()=>{let t=new Date,r=("0"+t.getDate()).slice(-2),a=("0"+(t.getMonth()+1)).slice(-2);return t.getFullYear()+"-"+a+"-"+r};var Qt=()=>{const t=W(It),r=W(ge),[a,l]=x.exports.useState(t),[o,i]=x.exports.useState([]),[d,p]=x.exports.useState([]),[f,s]=x.exports.useState([]),[h,m]=x.exports.useState([]),[b,y]=x.exports.useState([]);x.exports.useEffect(()=>{const _=t.filter(E=>E._date===Kt());i(_);const R=t.filter(E=>E._eventType==="Positive");p(R);const $=o.filter(E=>E._eventType==="Positive");s($);const O=t.filter(E=>E._eventType==="Negative");m(O);const Y=o.filter(E=>E._eventType==="Negative");y(Y)},[a]);const c=_=>{switch(_){case"all":l(t);break;case"today":l(o);break;case"positive":l(d);break;case"positiveToday":l(f);break;case"negative":l(h);break;case"negativeToday":l(b);break}};return a?n(V,{children:[e(S,{children:"Events"}),e("button",{onClick:()=>{c("all")},children:"All Events"}),e("button",{onClick:()=>{c("today")},children:"Today Events"}),e("button",{onClick:()=>{c("negative")},children:"All Negative"}),e("button",{onClick:()=>{c("negativeToday")},children:"Negative Today"}),e("button",{onClick:()=>{c("positive")},children:"All Positive"}),e("button",{onClick:()=>{c("positiveToday")},children:"Positive Today"}),e("button",{children:"By Child"}),e(Jt,{events:a,children:r})]}):e("div",{children:"Loding.."})};const be={parent:{firstName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20,helperText:"Custom error message"},lastName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20},email:{value:"",error:"",required:!0,validate:"email"},phone:{value:"",error:"",required:!0,validate:"phone",maxLength:15},address:{value:"",error:"",required:!0,validate:"text",minLength:10,maxLength:40},id:{value:"",error:"",required:!0,validate:"number",minLength:9,maxLength:9},photo:{value:null,error:"",required:!0}},child:{firstName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20,helperText:"Custom error message"},lastName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20},gender:{value:"",error:"",required:!0,validate:"select"},date:{value:"",required:!0,error:""},id:{value:"",error:"",required:!0,validate:"number",minLength:9,maxLength:9},address:{value:"",error:"",required:!0,validate:"text",minLength:10,maxLength:40},photo:{value:"",error:"",required:!0}},escort:{firstName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20,helperText:"Custom error message"},lastName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20},agreenemt:{value:!1,error:"",required:!0,validate:"checkbox",helperText:"Please accept our terms and conditions"},phone:{value:"",error:"",required:!0,validate:"phone",maxLength:15},photo:{value:"",error:"",required:!0}}},Xt=RegExp(/^[A-Z ]+$/i),er=RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i),tr=RegExp(/^\D?(\d{3})\D?\D?(\d{3})\D?(\d{4,6})$/),rr=RegExp(/^[0-9]{5}([- /]?[0-9]{4})?$/),ar=RegExp(/^\d+$/),nr="standard",ir="normal",lr=["Parent Step","Child Step","Escort Step"],K=x.exports.createContext(),or=({children:t})=>{const[r,a]=x.exports.useState(0),[l,o]=x.exports.useState(be),i=()=>a(s=>s+1),d=()=>a(s=>s-1),p=(s,h,m)=>{const{type:b,name:y,value:c,files:_}=s.target,R=b==="checkbox"?h:b==="file"?_[0]:c,$=JSON.parse(JSON.stringify(l)),O=be[m][y];if(!O)return;const{required:Y,validate:E,minLength:H,maxLength:Q,helperText:T}=O;let g="";if(Y&&!R&&(g="This field is required"),H&&c&&c.length<H&&(g=`Minimum ${H} characters is required.`),Q&&c&&c.length>Q&&(g="Maximum length exceeded!"),E)switch(E){case"text":c&&!Xt.test(c)&&(g=T||"This field accepts text only.");break;case"number":c&&!ar.test(c)&&(g=T||"This field accepts numbers only.");break;case"email":c&&!er.test(c)&&(g=T||"Please enter a valid email address.");break;case"phone":c&&!tr.test(c)&&(g=T||"Please enter a valid phone number. i.e: xxx-xxx-xxxx");break;case"zip":c&&!rr.test(c)&&(g=T||"Please enter a valid zip code.");break;case"checkbox":h||(g=T||"Please provide a valid value.");break;case"select":c||(g=T||"Please select a value.");break}$[m][y]=ie(X({},$[m][y]),{value:R,error:g}),o($)},f=()=>{console.log("forms values",l);const s=JSON.parse(JSON.stringify(l));for(let h in s)s[h]=Object.keys(s[h]).reduce((m,b)=>(m[b]=s[h][b].value,m),{});console.log("clone",s)};return e(K.Provider,{value:{labels:lr,activeStep:r,formValues:l,handleChange:p,handleNext:i,handleBack:d,handleSubmit:f,variant:nr,margin:ir},children:e("div",{className:"mui-step-form",children:t})})},ye=ue("input")({display:"none"});function sr(){const{formValues:t,handleChange:r,handleNext:a,variant:l,margin:o}=x.exports.useContext(K),{firstName:i,lastName:d,email:p,phone:f,id:s,address:h,photo:m}=t.parent,b=x.exports.useCallback(()=>Object.keys({firstName:i,lastName:d,email:p,phone:f,id:s,address:h,photo:m}).some(c=>t.parent[c].required&&!t.parent[c].value||t.parent[c].error),[t,i,d,p,f,s,h,m]),y=(c,_=null)=>r(c,_,"parent");return n(F,{children:[n(u,{container:!0,spacing:2,children:[e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:o,fullWidth:!0,label:"First Name",name:"firstName",placeholder:"Your first name",value:i.value,onChange:y,error:!!i.error,helperText:i.error,required:i.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:o,fullWidth:!0,label:"Last Name",name:"lastName",placeholder:"Your last name",value:d.value,onChange:y,error:!!d.error,helperText:d.error,required:d.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:o,fullWidth:!0,label:"Phone number",name:"phone",placeholder:"i.e: xxx-xxx-xxxx",value:f.value,onChange:y,error:!!f.error,helperText:f.error,required:f.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:o,fullWidth:!0,label:"Email",name:"email",placeholder:"Your email address",type:"email",value:p.value,onChange:y,error:!!p.error,helperText:p.error,required:p.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:o,fullWidth:!0,label:"I.D.",name:"id",placeholder:"Your Id",value:s.value,onChange:y,error:!!s.error,helperText:s.error,required:s.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:o,fullWidth:!0,label:"Address",name:"address",placeholder:"Your address",value:h.value,onChange:y,error:!!h.error,helperText:h.error,required:h.required})}),e(u,{item:!0,xs:12,children:n("label",{htmlFor:"parent-image",children:[e(ye,{name:"photo",required:m.required,accept:"image/*",id:"parent-image",type:"file",onChange:y}),e(D,{color:"primary","aria-label":"upload picture",component:"span",children:e(me,{fontSize:"large"})}),"Upload Photo"]})}),e(u,{item:!0,sm:12,children:n("label",{htmlFor:"add-parent",children:[e(ye,{accept:"image/*",id:"add-parent",type:"file"}),e(D,{color:"primary","aria-label":"upload picture",component:"span",children:e(pe,{fontSize:"large"})}),"Add Parent"]})})]}),e(z,{sx:{display:"flex",justifyContent:"flex-end"},children:e(P,{variant:"contained",sx:{mt:3,ml:1},disabled:b(),color:"primary",onClick:b()?()=>null:a,children:"Next"})})]})}const Se=ue("input")({display:"none"});function dr(){const{formValues:t,handleChange:r,handleBack:a,handleNext:l,variant:o,margin:i}=x.exports.useContext(K),{firstName:d,lastName:p,id:f,address:s,date:h,gender:m,photo:b}=t.child,y=x.exports.useCallback(()=>Object.keys({firstName:d,lastName:p,date:h,gender:m,id:f,address:s,photo:b}).some(_=>t.child[_].required&&!t.child[_].value||t.child[_].error),[t,d,p,h,m,f,s,b]),c=(_,R=null)=>r(_,R,"child");return n(F,{children:[n(u,{container:!0,spacing:2,children:[e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:o,margin:i,fullWidth:!0,label:"First Name",name:"firstName",placeholder:"Enter child first name",value:d.value,onChange:c,error:!!d.error,helperText:d.error,required:d.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:o,margin:i,fullWidth:!0,label:"Last Name",name:"lastName",placeholder:"Enter child last name",value:p.value,onChange:c,error:!!p.error,helperText:p.error,required:p.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:o,margin:i,fullWidth:!0,label:"I.D.",name:"id",placeholder:"Your Id",value:f.value,onChange:c,error:!!f.error,helperText:f.error,required:f.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:o,margin:i,fullWidth:!0,InputLabelProps:{shrink:!0},label:"Date of birth",name:"date",type:"date",defaultValue:h.value,onChange:c,required:h.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:o,margin:i,fullWidth:!0,label:"Address",name:"address",placeholder:"Your address",value:s.value,onChange:c,error:!!s.error,helperText:s.error,required:s.required})}),e(u,{item:!0,xs:12,sm:6,children:n(v,{variant:o,margin:i,fullWidth:!0,select:!0,SelectProps:{native:!0},label:"Gender",name:"gender",value:m.value,onChange:c,error:!!m.error,helperText:m.error,required:m.required,children:[e("option",{value:"",children:" "}),e("option",{value:"Male",children:"Male"}),e("option",{value:"Female",children:"Female"})]})}),e(u,{item:!0,xs:12,children:n("label",{htmlFor:"child-image",children:[e(Se,{name:"photo",required:b.required,accept:"image/*",id:"child-image",type:"file",onChange:c}),e(D,{color:"primary","aria-label":"upload picture",component:"span",children:e(me,{fontSize:"large"})}),"Upload Photo"]})}),e(u,{item:!0,sm:12,children:n("label",{htmlFor:"add-child",children:[e(Se,{accept:"image/*",id:"add-child",type:"file"}),e(D,{color:"primary","aria-label":"upload picture",component:"span",children:e(pe,{fontSize:"large"})}),"Add Child"]})})]}),n(z,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[e(P,{onClick:a,sx:{mr:1},children:"Back"}),e(P,{variant:"contained",disabled:y(),color:"primary",onClick:y()?()=>null:l,children:"Next"})]})]})}const Ce=ue("input")({display:"none"});function cr(){const{formValues:t,handleChange:r,handleBack:a,handleSubmit:l,variant:o,margin:i}=x.exports.useContext(K),{firstName:d,lastName:p,phone:f,agreenemt:s,photo:h}=t.escort,m=x.exports.useCallback(()=>Object.keys({firstName:d,lastName:p,phone:f,agreenemt:s,photo:h}).some(y=>t.escort[y].required&&!t.escort[y].value||t.escort[y].error),[t,d,p,f,s,h]),b=(y,c=null)=>r(y,c,"escort");return n(F,{children:[n(u,{container:!0,spacing:2,children:[e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:o,margin:i,fullWidth:!0,label:"First Name",name:"firstName",placeholder:"Enter escort first name",value:d.value,onChange:b,error:!!d.error,helperText:d.error,required:d.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:o,margin:i,fullWidth:!0,label:"Last Name",name:"lastName",placeholder:"Enter escort last name",value:p.value,onChange:b,error:!!p.error,helperText:p.error,required:p.required})}),e(u,{item:!0,xs:12,sm:6,children:e(v,{variant:o,margin:i,fullWidth:!0,label:"Phone number",name:"phone",placeholder:"i.e: xxx-xxx-xxxx",value:f.value,onChange:b,error:!!f.error,helperText:f.error,required:f.required})}),e(u,{item:!0,xs:12,children:n("label",{htmlFor:"escort-image",children:[e(Ce,{name:"photo",required:h.required,accept:"image/*",id:"escort-image",type:"file",onChange:b}),e(D,{color:"primary","aria-label":"upload picture",component:"span",children:e(me,{fontSize:"large"})}),"Upload Photo"]})}),e(u,{item:!0,xs:12,children:n("label",{htmlFor:"add-escort",children:[e(Ce,{accept:"image/*",id:"add-escort",type:"file"}),e(D,{color:"primary","aria-label":"upload picture",component:"span",children:e(pe,{fontSize:"large"})}),"Add Escort"]})})]}),n(u,{item:!0,xs:12,children:[e(te,{control:e(he,{checked:s.value,onChange:b,name:"agreenemt",color:"primary",required:s.required}),label:"Agree to terms and conditions"}),e(st,{error:!!s.error,children:s.error})]}),n(z,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[e(P,{sx:{mr:1},onClick:a,children:"Back"}),e(P,{variant:"contained",disabled:m(),color:"primary",onClick:m()?()=>null:l,children:"Submit"})]})]})}function hr(){return n(F,{children:[e(S,{variant:"h2",align:"center",sx:{py:4},children:"Thank you!"}),e(S,{component:"p",align:"center",children:"Your form has been successfully submitted."})]})}const ur=t=>{switch(t){case 0:return e(sr,{});case 1:return e(dr,{});case 2:return e(cr,{});default:throw new Error("Unknown step")}},mr=()=>{const{activeStep:t,labels:r}=x.exports.useContext(K);return e(F,{children:t===r.length?e(hr,{}):n(F,{children:[e(dt,{activeStep:t,sx:{py:3},alternativeLabel:!0,children:r.map(a=>e(ct,{children:e(ht,{children:a})},a))}),ur(t)]})})};var pr=()=>e(or,{children:e(V,{component:"main",maxWidth:"sm",sx:{mb:4},children:n(Z,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[e("div",{children:e("h2",{children:"Child Registration Form"})}),e(mr,{})]})})}),gr=()=>e(k,{direction:"row",flexWrap:"wrap",gap:3,children:e("iframe",{width:"400",height:"240",src:"https://rtsp.me/embed/7b9h8NSn/",frameBorder:"0",allowFullScreen:!0})});const fr=()=>e("div",{children:e(u,{align:"center",children:e(Z,{elevation:10,style:{padding:20,width:300,height:"75vh"},children:n("form",{children:[e(S,{children:"Child details"}),e(v,{fullWidth:!0,id:"standard-basic",name:"childFirstName",label:"Child First Name",variant:"standard",placeholder:"Enter child first name"}),e(v,{fullWidth:!0,id:"standard-basic",name:"childLastName",label:"Child Last Name",variant:"standard",placeholder:"Enter child lasr name"}),e(v,{fullWidth:!0,id:"standard-basic",name:"childId",label:"Child Id",variant:"standard",placeholder:"Enter child Id"}),e(S,{marginTop:"14px",children:"Parent details"}),e(v,{fullWidth:!0,id:"standard-basic",name:"parentFirstName",label:"Parent First Name",variant:"standard",placeholder:"Enter parent first name"}),e(v,{fullWidth:!0,id:"standard-basic",name:"parentLastName",label:"Parent Laste Name",variant:"standard",placeholder:"Enter parent last name"}),e(v,{fullWidth:!0,id:"standard-basic",name:"parentId",label:"Parent Id",variant:"standard",placeholder:"Endter parent Id"}),e(v,{fullWidth:!0,id:"standard-basic",name:"phoneNumber",label:"Phone Numbe",variant:"standard",placeholder:"Enter parent phone number"}),e(P,{type:"submit",variant:"contained",style:{margin:"25px 0"},color:"secondary",fullWidth:!0,onClick:l=>{console.log("!!!"),axios({method:"post",url:"http://localhost:8000/children",data:{_id:parentId,_firstName:l.parentFirstName,_lastName:l.parentLastName,_phoneNumber:l.phoneNumber}}),axios({method:"post",url:"http://localhost:8000/escorts",data:{_id:l.childId,_firstName:l.childFirstName,_lastName:l.childLastName}})},children:"Submit"})]})})})});var xr=()=>{const t=W(re);return e(x.exports.Suspense,{fallback:e("div",{children:"Loading..."}),children:e(ut,{children:t?e(F,{children:n(L,{path:"/",element:e(Wt,{}),children:[e(L,{index:!0,element:e(Bt,{})}),e(L,{path:"/kindergarten",element:e(Dt,{})}),e(L,{path:"/attendance",element:e(Mt,{})}),e(L,{path:"/children",element:e(Vt,{})}),e(L,{path:"/staff",element:e(Ht,{})}),e(L,{path:"/events",element:e(Qt,{})}),e(L,{path:"/watchLive",element:e(gr,{})}),e(L,{path:"/FirstChildParentForm",element:e(fr,{})})]})}):n(F,{children:[e(L,{path:"/login",element:e(zt,{})}),e(L,{path:"/register",element:e(Ot,{})}),e(L,{path:"/childForm/:kindergartenId",element:e(pr,{})}),e(L,{path:"/",element:e(mt,{to:"/login"})})]})})})};pt.render(e(gt,{children:e(ft,{children:e(xr,{})})}),document.getElementById("root"));
