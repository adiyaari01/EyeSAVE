var Re=Object.defineProperty,We=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ve=(t,r,n)=>r in t?Re(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,te=(t,r)=>{for(var n in r||(r={}))$e.call(r,n)&&ve(t,n,r[n]);if(xe)for(var n of xe(r))Be.call(r,n)&&ve(t,n,r[n]);return t},re=(t,r)=>We(t,ze(r));import{c as H,R as U,j as e,u as J,a as ie,b as a,L as De,d as je,e as Ne,f as Ee,g as Le,h as Oe,i as we,k as Te,l as Me,m as Ue,N as Ve,B as A,n as qe,r as x,S as _,A as Ye,T as be,I as B,o as He,p as Ge,q as M,D as Ze,O as Je,F as I,G as m,C as q,s as D,t as j,v as Ke,w as V,P as K,x as Ae,y as Qe,z as v,E as oe,H as se,J as k,K as ye,M as Xe,Q as R,U as $,V as et,W as tt,X as rt,Y as le,Z as F,_ as at,$ as nt,a0 as lt,a1 as O,a2 as de,a3 as ce,a4 as he,a5 as it,a6 as ot,a7 as st,a8 as dt,a9 as ct,aa as L,ab as ht,ac as ut,ad as mt,ae as pt}from"./vendor.5f2a5668.js";const ft=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}};ft();const G="https://eyesaveserver.herokuapp.com",gt=async()=>{const{body:t}=await H.exports.get(`${G}/childrenAttendance`);return t},xt=async()=>{const{body:t}=await H.exports.get(`${G}/staffAttendance`);return t},vt=async()=>{const{body:t}=await H.exports.get(`${G}/children`);return t},bt=async()=>{const{body:t}=await H.exports.get(`${G}/staff`);return t},yt=async()=>{const{body:t}=await H.exports.get(`${G}/events`);return t},St=({setSelf:t,onSet:r})=>{t(gt())},Ct=({setSelf:t,onSet:r})=>{t(xt())},kt=({setSelf:t,onSet:r})=>{t(vt())},_t=({setSelf:t,onSet:r})=>{t(bt())},Nt=({setSelf:t,onSet:r})=>{t(yt())},Q=U({key:"IsLoggedInState",default:!0}),Et=U({key:"childrenAttendanceState",default:null,effects_UNSTABLE:[St]}),Lt=U({key:"staffAttendanceState",default:null,effects_UNSTABLE:[Ct]}),ue=U({key:"childrenInfoState",default:null,effects_UNSTABLE:[kt]}),wt=U({key:"staffInfoState",default:null,effects_UNSTABLE:[_t]}),Tt=U({key:"evetnsState",default:null,effects_UNSTABLE:[Nt]});var qt="/assets/logo.0f66d6c0.png",At=()=>e("div",{children:e("img",{src:qt,width:"250",height:"80"})});const T=({Icon:t,to:r,label:n,handleClick:i})=>e("div",{className:"nav-item",children:r?a(Ve,{to:r,style:{color:"#E3E3E3"},children:[e(t,{fontSize:"large"}),n]}):a(A,{component:"a",onClick:i,style:{color:"#E3E3E3"},children:[e(t,{fontSize:"large"}),n]})});var It=()=>{const t=J(),r=ie(Q);return a(De,{sx:{width:"100%",maxWidth:360},children:[e(T,{to:"/",label:"Home",Icon:je}),e(T,{to:"watchLive",label:"Live",Icon:Ne}),e(T,{to:"recordings",label:"Recordings",Icon:Ee}),e(T,{to:"messages",label:"Messages",Icon:Le}),e(T,{to:"attendance",label:"Attendance",Icon:Oe}),e(T,{to:"children",label:"ChildrenInfo",Icon:we}),e(T,{to:"staff",label:"StaffInfo",Icon:Te}),e(T,{to:"events",label:"Events",Icon:Me}),e(T,{handleClick:()=>{r(!1),t("/login")},label:"Logout",Icon:Ue})]})};const Pt=qe({paper:{backgroundColor:"#3F424C !important"}}),ae=280;var Ft=x.exports.memo(()=>{const[t,r]=x.exports.useState(!1),n=()=>r(s=>!s),i={background:"#575E68"},l=Pt();return a(_,{direction:"row",children:[e(Ye,{position:"fixed",style:{boxShadow:"none"},children:a(be,{style:i,children:[e(B,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:n,children:e(He,{})}),e("div",{style:{display:"flex",flexGrow:1}}),e(Ge,{})]})}),e(M,{component:"nav",sx:{width:{md:ae},flexShrink:{md:0}},"aria-label":"mailbox folders",children:a(Ze,{anchor:"left",variant:"permanent",classes:l,onClose:()=>n(),sx:{display:{xs:"none",sm:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ae}},children:[e(At,{}),e(It,{})]})}),a(M,{component:"main",sx:{flexGrow:1,p:3,width:{md:`calc(100% - ${ae}px)`}},children:[e(be,{}),e(Je,{})]})]})});const Rt=qe({root:{backgroundColor:"#3F424C !important",color:"#E3E3E3 !important",borderRadius:"16px !important",cursor:"pointer"}});var Wt=x.exports.memo(()=>{const t=Rt(),r=J();return a(I,{children:[a(m,{container:!0,spacing:2,justifyContent:"center",mb:2,children:[e(m,{item:!0,xs:10,sm:4,md:4,children:a(q,{align:"center",classes:t,onClick:()=>r("/watchLive"),children:[e(D,{title:"Watch LIVE"}),e(j,{children:e(Ne,{sx:{fontSize:"100px"}})})]})}),e(m,{item:!0,xs:10,sm:4,md:4,children:a(q,{align:"center",classes:t,onClick:()=>r("/recirdings"),children:[e(D,{title:"See recordings"}),e(j,{children:e(Ee,{sx:{fontSize:"100px"}})})]})})]}),a(m,{container:!0,spacing:2,justifyContent:"center",mt:2,children:[e(m,{item:!0,xs:10,sm:2.5,md:2.5,children:a(q,{align:"center",classes:t,onClick:()=>r("/Forms"),children:[e(D,{title:"Forms"}),e(j,{children:e(Ke,{sx:{fontSize:"100px"}})})]})}),e(m,{item:!0,xs:10,sm:2.5,md:2.5,children:a(q,{align:"center",classes:t,onClick:()=>r("/Messages"),children:[e(D,{title:"Messages"}),e(j,{children:e(Le,{sx:{fontSize:"100px"}})})]})}),e(m,{item:!0,xs:10,sm:2.5,md:2.5,children:a(q,{align:"center",classes:t,onClick:()=>r("/staff"),children:[e(D,{title:"Staff info"}),e(j,{children:e(Te,{sx:{fontSize:"100px"}})})]})}),e(m,{item:!0,xs:10,sm:2.5,md:2.5,children:a(q,{align:"center",classes:t,onClick:()=>r("/children"),children:[e(D,{title:"Children info"}),e(j,{children:e(we,{sx:{fontSize:"100px"}})})]})})]})]})}),zt=()=>e(V,{children:"Kindergarten"});const $t=()=>{const t=J(),r=ie(Q),n={padding:20,width:280,height:"70vh",margin:"50px auto"},i={backgroundColor:"#BC88C9"},l={margin:"8px 0"},s={margin:"8px 0"};return e("div",{children:e(m,{align:"center",children:a(K,{elevation:10,style:n,children:[e(Ae,{style:i,children:e(Qe,{})}),e("h2",{children:"Sign In"}),e(v,{style:s,label:"Email",placeholder:"Enter an email address",fullWidth:!0,required:!0}),e(v,{style:s,label:"Password",placeholder:"Enter a password",type:"password",fullWidth:!0,required:!0}),e(oe,{control:e(se,{defaultChecked:!0,color:"default"}),label:"remember me"}),e(A,{variant:"contained",style:l,color:"secondary",fullWidth:!0,onClick:()=>{r(!0),t("/")},children:"SIGN IN"}),e(k,{children:e(ye,{href:"#",children:"Forgot password?"})}),a(k,{children:["Do you have an account?",e(ye,{href:"#",children:"Sign up"})]})]})})})},Bt=()=>{const t=J(),r=ie(Q);return e("div",{children:e(m,{align:"center",children:a(K,{elevation:10,style:{padding:20,width:300,height:"80vh",margin:"50px auto"},children:[a(m,{children:[e(Ae,{style:{backgroundColor:"#BC88C9"},children:e(Xe,{})}),e("h2",{children:"Sign Up"}),e(k,{variant:"caption",gutterBottom:!0,children:"Please fill this form to create an account"})]}),a("form",{children:[e(v,{fullWidth:!0,id:"standard-basic",label:"Full Name",variant:"standard",placeholder:"Enter your name"}),e(v,{fullWidth:!0,id:"standard-basic",label:"Email",variant:"standard",placeholder:"Enter your email"}),e(v,{fullWidth:!0,id:"standard-basic",label:"Phone Number",variant:"standard",placeholder:"Enter your phone number"}),e(v,{fullWidth:!0,id:"standard-basic",label:"Password",variant:"standard",placeholder:"Enter a password"}),e(v,{fullWidth:!0,id:"standard-basic",label:"Confirm Password",variant:"standard",placeholder:"Enter again your password"}),e(oe,{control:e(se,{defaultChecked:!0,color:"default"}),label:"I accept the terms and conditions."}),e(A,{type:"submit",variant:"contained",style:{margin:"8px 0"},color:"secondary",fullWidth:!0,onClick:()=>{r(!0),t("/home")},children:"SIGN UP"})]})]})})})};function Dt(t){return e(_,{direction:"row",flexWrap:"wrap",gap:3,children:t.items.map(r=>{var d,p,g,o,c;const n=(d=r.report)==null?void 0:d._arrivalTime,i=(p=r.report)==null?void 0:p._departureTime,l=(g=r.report)==null?void 0:g._absance,s=(o=r.report)==null?void 0:o._childDelay;return console.log((c=r.report)==null?void 0:c._absance),a(q,{sx:{width:160,height:180,position:"relative",backgroundColor:"#3F424C !important",color:"#E3E3E3 !important",borderRadius:"5px !important",boxShadow:3},children:[!n&&!i&&!l&&!s&&e("div",{className:"dot",style:{width:15,height:15,borderRadius:"50%",background:"#FAC852",position:"absolute",top:"5px",left:"5px"}}),s&&s!=="false"&&e(k,{fontSize:"14px",sx:{color:"#5FEBDC",position:"absolute",top:"5px",left:"5px"},children:"Delay"}),a(_,{sx:{color:"#E3E3E3"},alignItems:"center",gap:1,p:2,children:[e("img",{src:r._imageUrl,width:50,height:50,style:{borderRadius:"50%"},alt:""}),a(k,{children:[r._firstName," ",r._lastName]}),a(_,{justifyContent:n?"flex-end":"flex-start",direction:"row",sx:{fontFamily:"sans-serif",width:132,height:22,borderRadius:5,backgroundColor:n?"#AAF8D0":"#999999"},children:[!n&&e(_,{sx:{width:72,height:22,borderRadius:5,backgroundColor:"#596068",fontSize:12,justifyContent:"center",alignItems:"center"},children:"Check in"}),!!n&&e(_,{sx:{width:65,height:22,borderRadius:5,backgroundColor:n?"#1E8D7F":"#596068",fontSize:14,justifyContent:"center",alignItems:"center"},children:n})]}),a(_,{justifyContent:i?"flex-end":"flex-start",direction:"row",sx:{fontFamily:"sans-serif",width:132,height:22,borderRadius:5,backgroundColor:i?"#FBBCD7":"#999999"},children:[!i&&e(_,{sx:{width:72,height:22,borderRadius:5,backgroundColor:"#596068",fontSize:12,justifyContent:"center",alignItems:"center"},children:"Check out"}),!!i&&e(_,{sx:{width:65,height:22,borderRadius:5,backgroundColor:n?"#E7307C":"#596068",fontSize:14,justifyContent:"center",alignItems:"center"},children:i})]})]})]},r._id)})})}const ne=()=>{let t=new Date,r=("0"+t.getDate()).slice(-2),n=("0"+(t.getMonth()+1)).slice(-2);return t.getFullYear()+"-"+n+"-"+r};var jt=()=>{const t=R(Et),r=R(ue);R(Lt);const n=t.filter(o=>o._date===ne());console.log("todayReports",n),console.log(t),console.log(r);const i=r.map(o=>{const c=n.find(f=>f._childId===o._id);return re(te({},o),{report:c})}),l=i.filter(o=>{var c;return(c=o.report)==null?void 0:c._arrivalTime}),s=i.filter(o=>{var c,f;return((c=o.report)==null?void 0:c._childDelay)===!0&&!((f=o.report)==null?void 0:f._arrivalTime)}),d=r.filter(o=>t.find(c=>{const f=c._childId===o._id,y=c._date===ne(),S=c._absence&&!c._arrivalTime;return f&&y&&S})),p=r.filter(o=>!t.filter(f=>f._date===ne()).find(f=>f._childId==o._id));console.log("arrivedItems",l),console.log("lates",s),console.log("unknow",p),console.log("absance",d);const g=[...p,...d,...s,...l];return e(V,{children:e(_,{direction:"row",flexWrap:"wrap",gap:3,children:e(Dt,{items:g})})})};function Ot(t){return e(_,{justifyContent:"left",direction:"row",flexWrap:"wrap",gap:3,children:t.items.map(r=>e(q,{sx:{width:270,height:200,backgroundColor:"#3F424C !important",borderRadius:"5px !important",color:"#E3E3E3",boxShadow:3},children:a(_,{alignItems:"center",gap:1,p:2,children:[e("img",{src:r._imageUrl,width:80,height:80,style:{borderRadius:"50%"},alt:""}),a(k,{children:[r._firstName," ",r._lastName]}),a(k,{children:["Address:",r._address]}),a(k,{children:["Birthday: ",r._birthdate]})]})},r._id))})}var Mt=()=>{const t=R(ue);return console.log(t),a(V,{children:[e(_,{direction:"row",flexWrap:"wrap",gap:3}),e(Ot,{items:t})]})};function Ut(t){return e(_,{justifyContent:"center",direction:"row",flexWrap:"wrap",gap:3,children:t.items.map(r=>e(q,{sx:{width:280,height:280,backgroundColor:"#3F424C !important",borderRadius:"5px !important",color:"#E3E3E3",boxShadow:3},children:a(_,{alignItems:"center",gap:1,p:2,children:[e("img",{src:r._imageUrl,width:80,height:80,style:{borderRadius:"50%"},alt:""}),a(k,{children:[r._firstName," ",r._lastName]}),a(k,{children:["Position: ",r._position]}),a(k,{children:["Phone: ",r._phone]}),a(k,{children:["Address: ",r._address]}),a(k,{children:["Birthday: ",r._birthdate]})]})},r._id))})}var Vt=()=>{const t=R(wt);return console.log("staff",t),a(V,{children:[e(_,{justifyContent:"center",direction:"row",flexWrap:"wrap",gap:3}),e(Ut,{items:t})]})};function Yt(t,r,n,i,l,s){return{date:t,event:r,startTime:n,finishTime:i,child1:l,child2:s}}const Ht=[{id:"event",numeric:!1,disablePadding:!0,label:"Event"},{id:"date",numeric:!1,disablePadding:!0,label:"Date"},{id:"startTime",numeric:!1,disablePadding:!1,label:"Start Time"},{id:"finishTime",numeric:!1,disablePadding:!1,label:"Finish Time"},{id:"child1",numeric:!1,disablePadding:!1,label:"Child 1"},{id:"child2",numeric:!1,disablePadding:!1,label:"Child 2"}];function Ie(t){const{order:r,orderBy:n,onRequestSort:i}=t;return e(at,{children:e(le,{children:Ht.map(l=>e(F,{align:"center",padding:l.disablePadding?"none":"normal",sortDirection:n===l.id?r:!1,sx:{color:"#A2A4A7",fontSize:"16px"},children:l.label},l.id))})})}Ie.propTypes={numSelected:$.number.isRequired,onRequestSort:$.func.isRequired,onSelectAllClick:$.func.isRequired,order:$.oneOf(["asc","desc"]).isRequired,orderBy:$.string.isRequired,rowCount:$.number.isRequired};$.number.isRequired;function Gt({events:t,children:r}){const[n,i]=x.exports.useState("asc"),[l,s]=x.exports.useState("event"),[d,p]=x.exports.useState([]),[g,o]=x.exports.useState(0),[c,f]=x.exports.useState(!1),[y,S]=x.exports.useState(5),[h,E]=x.exports.useState([]);x.exports.useEffect(()=>{console.log("Events",t);let C=!0;if(C){const N=t.map(u=>{var me,pe,fe,ge;const b=r.filter(ee=>ee._id===u._child1),X=r.filter(ee=>ee._id===u._child2);if(console.log("childe1:",b),b)var Pe=((me=b[0])==null?void 0:me._firstName)+" "+((pe=b[0])==null?void 0:pe._lastName);if(X)var Fe=((fe=X[0])==null?void 0:fe._firstName)+" "+((ge=X[0])==null?void 0:ge._lastName);return Yt(u._date,u._eventType,u._startTime,u._endTime,Pe,Fe)});E(N)}return()=>{C=!1}},[t]);const P=(C,N)=>{i(l===N&&n==="asc"?"desc":"asc"),s(N)},W=C=>{if(C.target.checked){const N=h.map(u=>u.name);p(N);return}p([])},w=(C,N)=>{const u=d.indexOf(N);let b=[];u===-1?b=b.concat(d,N):u===0?b=b.concat(d.slice(1)):u===d.length-1?b=b.concat(d.slice(0,-1)):u>0&&(b=b.concat(d.slice(0,u),d.slice(u+1))),p(b)},Y=C=>d.indexOf(C)!==-1,z=g>0?Math.max(0,(1+g)*y-h.length):0;return h.length?e("div",{children:e(et,{sx:{mt:5},children:a(tt,{sx:{minWidth:750,backgroundColor:"#3F414D"},"aria-labelledby":"tableTitle",size:c?"small":"medium",children:[e(Ie,{numSelected:d.length,order:n,orderBy:l,onSelectAllClick:W,onRequestSort:P,rowCount:h.length}),a(rt,{children:[h.map((C,N)=>{const u=Y(C.event);return a(le,{hover:!0,onClick:b=>w(b,C.event),"aria-checked":u,tabIndex:-1,selected:u,children:[e(F,{sx:{fontSize:"16px",color:C.event==="Positive"?"#68B294":C.event==="Negative"?"#AD4675":"#A2A4A7"},align:"center",children:C.event}),e(F,{sx:{fontSize:"16px",color:"#A2A4A7"},align:"center",children:C.date}),e(F,{sx:{fontSize:"16px",color:"#A2A4A7"},align:"center",children:C.startTime}),e(F,{sx:{fontSize:"16px",color:"#A2A4A7"},align:"center",children:C.finishTime}),e(F,{sx:{fontSize:"16px",color:"#A2A4A7"},align:"center",children:C.child1}),e(F,{sx:{fontSize:"16px",color:"#A2A4A7"},align:"center",children:C.child2})]},N)}),z>0&&e(le,{style:{height:(c?33:53)*z},children:e(F,{colSpan:6})})]})]})})}):e("div",{children:"Loading.."})}const Zt=()=>{let t=new Date,r=("0"+t.getDate()).slice(-2),n=("0"+(t.getMonth()+1)).slice(-2);return t.getFullYear()+"-"+n+"-"+r};var Jt=()=>{const t=R(Tt),r=R(ue),[n,i]=x.exports.useState(t),[l,s]=x.exports.useState([]),[d,p]=x.exports.useState([]),[g,o]=x.exports.useState([]),[c,f]=x.exports.useState([]),[y,S]=x.exports.useState([]),[h,E]=x.exports.useState("all");x.exports.useEffect(()=>{const w=t.filter(u=>u._date===Zt());s(w);const Y=t.filter(u=>u._eventType==="Positive");p(Y);const z=l.filter(u=>u._eventType==="Positive");o(z);const C=t.filter(u=>u._eventType==="Negative");f(C);const N=l.filter(u=>u._eventType==="Negative");S(N)},[n]);const P=w=>{W(w.target.value)},W=w=>{switch(E(w),w){case"all":i(t);break;case"today":i(l);break;case"positive":i(d);break;case"positiveToday":i(g);break;case"negative":i(c);break;case"negativeToday":i(y);break}};return n?a(V,{children:[e(k,{sx:{fontSize:"25px",color:"#A2A4A7"},children:"Events"}),e(M,{sx:{minWidth:120},children:e(nt,{children:a(lt,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,onChange:P,sx:{color:"#3F414D",backgroundColor:"#E2E3E4",width:"100%",minWidth:"150px",height:"30px"},children:[e(O,{value:"all",children:"All"}),e(O,{value:"today",children:"Today"}),e(O,{value:"negative",children:"Negative"}),e(O,{value:"negativeToday",children:"Negative Today"}),e(O,{value:"positive",children:"Positive"}),e(O,{value:"positiveToday",children:"Positive Today"})]})})}),e(Gt,{events:n,children:r})]}):e("div",{children:"Loding.."})};const Se={parent:{firstName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20,helperText:"Custom error message"},lastName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20},email:{value:"",error:"",required:!0,validate:"email"},phone:{value:"",error:"",required:!0,validate:"phone",maxLength:15},address:{value:"",error:"",required:!0,validate:"text",minLength:10,maxLength:40},id:{value:"",error:"",required:!0,validate:"number",minLength:9,maxLength:9},photo:{value:null,error:"",required:!0}},child:{firstName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20,helperText:"Custom error message"},lastName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20},gender:{value:"",error:"",required:!0,validate:"select"},date:{value:"",required:!0,error:""},id:{value:"",error:"",required:!0,validate:"number",minLength:9,maxLength:9},address:{value:"",error:"",required:!0,validate:"text",minLength:10,maxLength:40},photo:{value:"",error:"",required:!0}},escort:{firstName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20,helperText:"Custom error message"},lastName:{value:"",error:"",required:!0,validate:"text",minLength:2,maxLength:20},agreenemt:{value:!1,error:"",required:!0,validate:"checkbox",helperText:"Please accept our terms and conditions"},phone:{value:"",error:"",required:!0,validate:"phone",maxLength:15},photo:{value:"",error:"",required:!0}}},Kt=RegExp(/^[A-Z ]+$/i),Qt=RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i),Xt=RegExp(/^\D?(\d{3})\D?\D?(\d{3})\D?(\d{4,6})$/),er=RegExp(/^[0-9]{5}([- /]?[0-9]{4})?$/),tr=RegExp(/^\d+$/),rr="standard",ar="normal",nr=["Parent Step","Child Step","Escort Step"],Z=x.exports.createContext(),lr=({children:t})=>{const[r,n]=x.exports.useState(0),[i,l]=x.exports.useState(Se),s=()=>n(o=>o+1),d=()=>n(o=>o-1),p=(o,c,f)=>{const{type:y,name:S,value:h,files:E}=o.target,P=y==="checkbox"?c:y==="file"?E[0]:h,W=JSON.parse(JSON.stringify(i)),w=Se[f][S];if(!w)return;const{required:Y,validate:z,minLength:C,maxLength:N,helperText:u}=w;let b="";if(Y&&!P&&(b="This field is required"),C&&h&&h.length<C&&(b=`Minimum ${C} characters is required.`),N&&h&&h.length>N&&(b="Maximum length exceeded!"),z)switch(z){case"text":h&&!Kt.test(h)&&(b=u||"This field accepts text only.");break;case"number":h&&!tr.test(h)&&(b=u||"This field accepts numbers only.");break;case"email":h&&!Qt.test(h)&&(b=u||"Please enter a valid email address.");break;case"phone":h&&!Xt.test(h)&&(b=u||"Please enter a valid phone number. i.e: xxx-xxx-xxxx");break;case"zip":h&&!er.test(h)&&(b=u||"Please enter a valid zip code.");break;case"checkbox":c||(b=u||"Please provide a valid value.");break;case"select":h||(b=u||"Please select a value.");break}W[f][S]=re(te({},W[f][S]),{value:P,error:b}),l(W)},g=()=>{console.log("forms values",i);const o=JSON.parse(JSON.stringify(i));for(let c in o)o[c]=Object.keys(o[c]).reduce((f,y)=>(f[y]=o[c][y].value,f),{});console.log("clone",o)};return e(Z.Provider,{value:{labels:nr,activeStep:r,formValues:i,handleChange:p,handleNext:s,handleBack:d,handleSubmit:g,variant:rr,margin:ar},children:e("div",{className:"mui-step-form",children:t})})},Ce=de("input")({display:"none"});function ir(){const{formValues:t,handleChange:r,handleNext:n,variant:i,margin:l}=x.exports.useContext(Z),{firstName:s,lastName:d,email:p,phone:g,id:o,address:c,photo:f}=t.parent,y=x.exports.useCallback(()=>Object.keys({firstName:s,lastName:d,email:p,phone:g,id:o,address:c,photo:f}).some(h=>t.parent[h].required&&!t.parent[h].value||t.parent[h].error),[t,s,d,p,g,o,c,f]),S=(h,E=null)=>r(h,E,"parent");return a(I,{children:[a(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:i,margin:l,fullWidth:!0,label:"First Name",name:"firstName",placeholder:"Your first name",value:s.value,onChange:S,error:!!s.error,helperText:s.error,required:s.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:i,margin:l,fullWidth:!0,label:"Last Name",name:"lastName",placeholder:"Your last name",value:d.value,onChange:S,error:!!d.error,helperText:d.error,required:d.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:i,margin:l,fullWidth:!0,label:"Phone number",name:"phone",placeholder:"i.e: xxx-xxx-xxxx",value:g.value,onChange:S,error:!!g.error,helperText:g.error,required:g.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:i,margin:l,fullWidth:!0,label:"Email",name:"email",placeholder:"Your email address",type:"email",value:p.value,onChange:S,error:!!p.error,helperText:p.error,required:p.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:i,margin:l,fullWidth:!0,label:"I.D.",name:"id",placeholder:"Your Id",value:o.value,onChange:S,error:!!o.error,helperText:o.error,required:o.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:i,margin:l,fullWidth:!0,label:"Address",name:"address",placeholder:"Your address",value:c.value,onChange:S,error:!!c.error,helperText:c.error,required:c.required})}),e(m,{item:!0,xs:12,children:a("label",{htmlFor:"parent-image",children:[e(Ce,{name:"photo",required:f.required,accept:"image/*",id:"parent-image",type:"file",onChange:S}),e(B,{color:"primary","aria-label":"upload picture",component:"span",children:e(ce,{fontSize:"large"})}),"Upload Photo"]})}),e(m,{item:!0,sm:12,children:a("label",{htmlFor:"add-parent",children:[e(Ce,{accept:"image/*",id:"add-parent",type:"file"}),e(B,{color:"primary","aria-label":"upload picture",component:"span",children:e(he,{fontSize:"large"})}),"Add Parent"]})})]}),e(M,{sx:{display:"flex",justifyContent:"flex-end"},children:e(A,{variant:"contained",sx:{mt:3,ml:1},disabled:y(),color:"primary",onClick:y()?()=>null:n,children:"Next"})})]})}const ke=de("input")({display:"none"});function or(){const{formValues:t,handleChange:r,handleBack:n,handleNext:i,variant:l,margin:s}=x.exports.useContext(Z),{firstName:d,lastName:p,id:g,address:o,date:c,gender:f,photo:y}=t.child,S=x.exports.useCallback(()=>Object.keys({firstName:d,lastName:p,date:c,gender:f,id:g,address:o,photo:y}).some(E=>t.child[E].required&&!t.child[E].value||t.child[E].error),[t,d,p,c,f,g,o,y]),h=(E,P=null)=>r(E,P,"child");return a(I,{children:[a(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:s,fullWidth:!0,label:"First Name",name:"firstName",placeholder:"Enter child first name",value:d.value,onChange:h,error:!!d.error,helperText:d.error,required:d.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:s,fullWidth:!0,label:"Last Name",name:"lastName",placeholder:"Enter child last name",value:p.value,onChange:h,error:!!p.error,helperText:p.error,required:p.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:s,fullWidth:!0,label:"I.D.",name:"id",placeholder:"Your Id",value:g.value,onChange:h,error:!!g.error,helperText:g.error,required:g.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:s,fullWidth:!0,InputLabelProps:{shrink:!0},label:"Date of birth",name:"date",type:"date",defaultValue:c.value,onChange:h,required:c.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:s,fullWidth:!0,label:"Address",name:"address",placeholder:"Your address",value:o.value,onChange:h,error:!!o.error,helperText:o.error,required:o.required})}),e(m,{item:!0,xs:12,sm:6,children:a(v,{variant:l,margin:s,fullWidth:!0,select:!0,SelectProps:{native:!0},label:"Gender",name:"gender",value:f.value,onChange:h,error:!!f.error,helperText:f.error,required:f.required,children:[e("option",{value:"",children:" "}),e("option",{value:"Male",children:"Male"}),e("option",{value:"Female",children:"Female"})]})}),e(m,{item:!0,xs:12,children:a("label",{htmlFor:"child-image",children:[e(ke,{name:"photo",required:y.required,accept:"image/*",id:"child-image",type:"file",onChange:h}),e(B,{color:"primary","aria-label":"upload picture",component:"span",children:e(ce,{fontSize:"large"})}),"Upload Photo"]})}),e(m,{item:!0,sm:12,children:a("label",{htmlFor:"add-child",children:[e(ke,{accept:"image/*",id:"add-child",type:"file"}),e(B,{color:"primary","aria-label":"upload picture",component:"span",children:e(he,{fontSize:"large"})}),"Add Child"]})})]}),a(M,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[e(A,{onClick:n,sx:{mr:1},children:"Back"}),e(A,{variant:"contained",disabled:S(),color:"primary",onClick:S()?()=>null:i,children:"Next"})]})]})}const _e=de("input")({display:"none"});function sr(){const{formValues:t,handleChange:r,handleBack:n,handleSubmit:i,variant:l,margin:s}=x.exports.useContext(Z),{firstName:d,lastName:p,phone:g,agreenemt:o,photo:c}=t.escort,f=x.exports.useCallback(()=>Object.keys({firstName:d,lastName:p,phone:g,agreenemt:o,photo:c}).some(S=>t.escort[S].required&&!t.escort[S].value||t.escort[S].error),[t,d,p,g,o,c]),y=(S,h=null)=>r(S,h,"escort");return a(I,{children:[a(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:s,fullWidth:!0,label:"First Name",name:"firstName",placeholder:"Enter escort first name",value:d.value,onChange:y,error:!!d.error,helperText:d.error,required:d.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:s,fullWidth:!0,label:"Last Name",name:"lastName",placeholder:"Enter escort last name",value:p.value,onChange:y,error:!!p.error,helperText:p.error,required:p.required})}),e(m,{item:!0,xs:12,sm:6,children:e(v,{variant:l,margin:s,fullWidth:!0,label:"Phone number",name:"phone",placeholder:"i.e: xxx-xxx-xxxx",value:g.value,onChange:y,error:!!g.error,helperText:g.error,required:g.required})}),e(m,{item:!0,xs:12,children:a("label",{htmlFor:"escort-image",children:[e(_e,{name:"photo",required:c.required,accept:"image/*",id:"escort-image",type:"file",onChange:y}),e(B,{color:"primary","aria-label":"upload picture",component:"span",children:e(ce,{fontSize:"large"})}),"Upload Photo"]})}),e(m,{item:!0,xs:12,children:a("label",{htmlFor:"add-escort",children:[e(_e,{accept:"image/*",id:"add-escort",type:"file"}),e(B,{color:"primary","aria-label":"upload picture",component:"span",children:e(he,{fontSize:"large"})}),"Add Escort"]})})]}),a(m,{item:!0,xs:12,children:[e(oe,{control:e(se,{checked:o.value,onChange:y,name:"agreenemt",color:"primary",required:o.required}),label:"Agree to terms and conditions"}),e(it,{error:!!o.error,children:o.error})]}),a(M,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[e(A,{sx:{mr:1},onClick:n,children:"Back"}),e(A,{variant:"contained",disabled:f(),color:"primary",onClick:f()?()=>null:i,children:"Submit"})]})]})}function dr(){return a(I,{children:[e(k,{variant:"h2",align:"center",sx:{py:4},children:"Thank you!"}),e(k,{component:"p",align:"center",children:"Your form has been successfully submitted."})]})}const cr=t=>{switch(t){case 0:return e(ir,{});case 1:return e(or,{});case 2:return e(sr,{});default:throw new Error("Unknown step")}},hr=()=>{const{activeStep:t,labels:r}=x.exports.useContext(Z);return e(I,{children:t===r.length?e(dr,{}):a(I,{children:[e(ot,{activeStep:t,sx:{py:3},alternativeLabel:!0,children:r.map(n=>e(st,{children:e(dt,{children:n})},n))}),cr(t)]})})};var ur=()=>e(lr,{children:e(V,{component:"main",maxWidth:"sm",sx:{mb:4},children:a(K,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[e("div",{children:e("h2",{children:"Child Registration Form"})}),e(hr,{})]})})}),mr=()=>e(_,{direction:"row",flexWrap:"wrap",gap:3,children:e("iframe",{width:"400",height:"240",src:"https://rtsp.me/embed/NHANEa74/",frameBorder:"0"})});const pr=()=>e("div",{children:e(m,{align:"center",children:e(K,{elevation:10,style:{padding:20,width:300,height:"75vh"},children:a("form",{children:[e(k,{children:"Child details"}),e(v,{fullWidth:!0,id:"standard-basic",name:"childFirstName",label:"Child First Name",variant:"standard",placeholder:"Enter child first name"}),e(v,{fullWidth:!0,id:"standard-basic",name:"childLastName",label:"Child Last Name",variant:"standard",placeholder:"Enter child lasr name"}),e(v,{fullWidth:!0,id:"standard-basic",name:"childId",label:"Child Id",variant:"standard",placeholder:"Enter child Id"}),e(k,{marginTop:"14px",children:"Parent details"}),e(v,{fullWidth:!0,id:"standard-basic",name:"parentFirstName",label:"Parent First Name",variant:"standard",placeholder:"Enter parent first name"}),e(v,{fullWidth:!0,id:"standard-basic",name:"parentLastName",label:"Parent Laste Name",variant:"standard",placeholder:"Enter parent last name"}),e(v,{fullWidth:!0,id:"standard-basic",name:"parentId",label:"Parent Id",variant:"standard",placeholder:"Endter parent Id"}),e(v,{fullWidth:!0,id:"standard-basic",name:"phoneNumber",label:"Phone Numbe",variant:"standard",placeholder:"Enter parent phone number"}),e(A,{type:"submit",variant:"contained",style:{margin:"25px 0"},color:"secondary",fullWidth:!0,onClick:i=>{console.log("!!!"),axios({method:"post",url:"http://localhost:8000/children",data:{_id:parentId,_firstName:i.parentFirstName,_lastName:i.parentLastName,_phoneNumber:i.phoneNumber}}),axios({method:"post",url:"http://localhost:8000/escorts",data:{_id:i.childId,_firstName:i.childFirstName,_lastName:i.childLastName}})},children:"Submit"})]})})})});var fr=()=>{const t=R(Q);return e(x.exports.Suspense,{fallback:e("div",{children:"Loading..."}),children:e(ct,{children:t?e(I,{children:a(L,{path:"/",element:e(Ft,{}),children:[e(L,{index:!0,element:e(Wt,{})}),e(L,{path:"/kindergarten",element:e(zt,{})}),e(L,{path:"/attendance",element:e(jt,{})}),e(L,{path:"/children",element:e(Mt,{})}),e(L,{path:"/staff",element:e(Vt,{})}),e(L,{path:"/events",element:e(Jt,{})}),e(L,{path:"/watchLive",element:e(mr,{})}),e(L,{path:"/FirstChildParentForm",element:e(pr,{})})]})}):a(I,{children:[e(L,{path:"/login",element:e($t,{})}),e(L,{path:"/register",element:e(Bt,{})}),e(L,{path:"/childForm/:kindergartenId",element:e(ur,{})}),e(L,{path:"/",element:e(ht,{to:"/login"})})]})})})};ut.render(e(mt,{children:e(pt,{children:e(fr,{})})}),document.getElementById("root"));
